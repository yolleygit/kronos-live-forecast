# Kronos Dashboard - Next.js Frontend

Modern dashboard interface for the Kronos Live Forecast system, built with Next.js, React, and Tailwind CSS.

## Features

- ðŸ“Š **Enhanced Metrics Display**: 12 comprehensive indicators including upside probabilities and volatility analysis
- ðŸŽ¨ **Modern UI/UX**: Clean, responsive design with gradient backgrounds and smooth animations
- ðŸ“± **Mobile Responsive**: Optimized for desktop, tablet, and mobile devices
- âš¡ **Real-time Updates**: Auto-refresh functionality with data polling
- ðŸ“ˆ **Interactive Charts**: High-resolution prediction charts with zoom and download capabilities
- ðŸŒ“ **Dark Mode Support**: Automatic dark/light mode detection

## Quick Start

### Prerequisites

- Node.js 18.0 or later
- npm or yarn package manager

### Installation

```bash
# Install dependencies
npm install

# Development server
npm run dev

# Production build
npm run build

# Start production server
npm start
```

### Development

```bash
# Run development server (with hot reload)
npm run dev

# Open browser to http://localhost:3000
```

### Build for Production

```bash
# Create optimized production build
npm run build

# Export static files (optional)
npm run export
```

## Architecture

### Project Structure

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router pages
â”‚   â”‚   â”œâ”€â”€ globals.css      # Global styles
â”‚   â”‚   â”œâ”€â”€ layout.tsx       # Root layout component
â”‚   â”‚   â”œâ”€â”€ page.tsx         # Main dashboard page
â”‚   â”‚   â””â”€â”€ api/dashboard/   # API routes for data fetching
â”‚   â”œâ”€â”€ components/          # Reusable React components
â”‚   â”‚   â”œâ”€â”€ MetricCard.tsx   # Individual metric display
â”‚   â”‚   â”œâ”€â”€ MetricGroup.tsx  # Grouped metrics section
â”‚   â”‚   â”œâ”€â”€ Header.tsx       # Dashboard header
â”‚   â”‚   â””â”€â”€ ChartSection.tsx # Chart display component
â”‚   â”œâ”€â”€ types/              # TypeScript type definitions
â”‚   â”œâ”€â”€ utils/              # Utility functions
â”‚   â””â”€â”€ data/               # Static data and mock responses
â”œâ”€â”€ public/                 # Static assets
â”‚   â”œâ”€â”€ data/              # JSON data files from Python backend
â”‚   â””â”€â”€ prediction_chart.png # Generated prediction chart
â””â”€â”€ package.json           # Dependencies and scripts
```

### Data Flow

```
Python Backend â†’ JSON Data Files â†’ Next.js API â†’ React Components â†’ UI
      â†“              â†“                 â†“            â†“          â†“
  Enhanced      dashboard.json    /api/dashboard  useState   Display
  Metrics                                                     
```

## Integration with Python Backend

### Data Sources

The dashboard automatically reads data from:

1. **Primary**: `/web/public/data/dashboard.json` (generated by Python backend)
2. **Fallback**: `/frontend/data.json` (backward compatibility)
3. **Mock**: Built-in mock data for development

### Enhanced Metrics (12 Indicators)

**Upside Probability Metrics (6)**:
- `upside_0.5%_prob`: Basic profit probability
- `upside_2.0%_prob`: Significant gain probability  
- `upside_5.0%_prob`: Extreme opportunity detection
- `expected_return_%`: Expected 24-hour return
- `confidence_score`: Prediction confidence rating
- `risk_adjusted_prob`: Risk-adjusted upside probability

**Volatility Metrics (6)**:
- `vol_amp_prob_24h`: 24-hour volatility amplification probability
- `vol_amp_prob_48h`: 48-hour volatility amplification probability
- `avg_amplification_factor`: Average amplification multiplier
- `extreme_vol_prob`: Extreme volatility probability
- `vol_persistence_score`: Volatility persistence rating
- `overall_vol_risk_score`: Comprehensive volatility risk score (0-100)

## Customization

### Styling

- Edit `src/app/globals.css` for global styles
- Modify `tailwind.config.js` for theme customization
- Update component styles in individual `.tsx` files

### Metrics Display

- Modify `src/utils/index.ts` to change metric formatting
- Update `src/types/index.ts` to add new metric types
- Customize `src/components/MetricCard.tsx` for display logic

### Colors and Themes

```typescript
// tailwind.config.js
theme: {
  extend: {
    colors: {
      primary: { /* custom primary colors */ },
      success: { /* success colors */ },
      warning: { /* warning colors */ },
      danger: { /* danger colors */ }
    }
  }
}
```

## Performance Optimization

- **Static Generation**: Uses Next.js static export for optimal performance
- **Image Optimization**: Automatic image optimization for charts
- **Bundle Splitting**: Automatic code splitting for faster loading
- **CSS Optimization**: Tailwind CSS purging for smaller bundle size

## Deployment

### Static Export (Recommended)

```bash
npm run build
npm run export
```

The exported files will be in the `out/` directory and can be served by any static web server.

### Vercel Deployment

```bash
# Install Vercel CLI
npm i -g vercel

# Deploy to Vercel
vercel
```

### Custom Server

```bash
# Build and start
npm run build
npm start
```

## Troubleshooting

### Common Issues

1. **Data not loading**: Check if `dashboard.json` exists in `/web/public/data/`
2. **Chart not displaying**: Ensure `prediction_chart.png` is in `/web/public/`
3. **Build errors**: Run `npm ci` to reinstall dependencies
4. **Port conflicts**: Change port in `package.json` scripts

### Debug Mode

```bash
# Enable debug logging
DEBUG=* npm run dev
```

### Data Validation

The dashboard includes automatic data validation and fallbacks:
- Missing files â†’ Mock data
- Invalid JSON â†’ Error handling
- Network errors â†’ Cached data

## Contributing

1. Follow the existing code style and patterns
2. Add proper TypeScript types for new features
3. Test on multiple screen sizes
4. Update documentation for new components

## License

Part of the Kronos Live Forecast project.